# ðŸŽ—ï¸ Breast Cancer Prediction MLOps Pipeline

[![CI Workflow](https://github.com/rioferdinand14/BreastCancer_Classification/actions/workflows/ci.yml/badge.svg)](https://github.com/rioferdinand14/BreastCancer_Classification/actions)
![Python](https://img.shields.io/badge/Python-3.9%2B-blue?logo=python&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Enabled-2496ED?logo=docker&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?logo=streamlit&logoColor=white)
![MLflow](https://img.shields.io/badge/MLflow-Tracking-0194E2?logo=mlflow&logoColor=white)

> **Live Demo:** [Klik di sini untuk mencoba Aplikasi Streamlit](https://share.streamlit.io/rioferdinand14/Workflow-CI/main/frontend/app.py)

This project is an End-to-End MLOps implementation for breast cancer diagnosis. Unlike standard machine learning projects, this repository focuses on pipeline automation, reproducibility, and infrastructure scalability.
---

## ðŸ’¡Key Features

### 1. Model Training
* Utilizes the Random Forest Classifier algorithm.
* Integrated with Recursive Feature Elimination (RFE) to automatically select the 10 most important medical features (e.g., mean perimeter, mean area, worst concave points) to improve model efficiency.

### 2. CI/CD Pipeline (GitHub Actions)
* Every time a code change occurs (push to main), GitHub Actions automatically:
   * Sets up the Anaconda environment.
   * Performs code validation (Linting).
   * Re-runs model training to ensure no scripts are broken.

### 3. MLflow Tracking
* The training script is designed with Environment-Aware logic:
   * CI Mode: Detects MLFLOW_RUN_ID from GitHub Actions and uses that ID (preventing "Run ID not found" conflicts/errors).
   * Local Mode: Automatically creates a new experiment and Run ID when executed on a developer's machine.

### 4. Monitoring
* Ready to be integrated with Prometheus to monitor system metrics (CPU, RAM, Request Latency) in real-time.
---

## ðŸ“‚ Project Structure

```text
â”œâ”€â”€ .github/workflows/    # Konfigurasi CI (GitHub Actions)
â”œâ”€â”€ view/                 # Aplikasi User Interface berbasis Streamlit
â”‚   â”œâ”€â”€ app.py            # Main application logic
â”‚   â””â”€â”€ model.pkl         # Model fisik untuk deployment Streamlit Cloud
â”œâ”€â”€ modelling/            # Script Training & MLflow Project
â”‚   â”œâ”€â”€ modelling.py      # Script training "Pintar" (Hybrid Logic)
â”‚   â”œâ”€â”€ MLProject         # Definisi entry point MLflow
â”‚   â””â”€â”€ conda.yaml        # Environment dependencies
â”œâ”€â”€ monitoring/           # Konfigurasi Prometheus (Observability)
â”‚   â”œâ”€â”€ prometheus_exporter.py # Middleware untuk meminta prediksi
â”‚   â”œâ”€â”€ prometheus.yml         # Konfigurasi untuk monitoring model
â””â”€â”€ docker-compose.yml    # Orkestrasi Container untuk Local Development
â””â”€â”€ requirements.txt      # Dependencies python


# 1. Clone Repository
   git clone [https://github.com/rioferdinand14/BreastCancer_Classification.git]
   cd BreastCancer_Classification

# 2. Create Virtual Environment (Recommended)
   python -m venv venv
   Aktifkan venv (Windows: venv\Scripts\activate | Mac/Linux: source venv/bin/activate)

# 3. Install Libraries
   pip install -r requirements.txt

# 4. Model Training
   cd modelling
   python modelling.py

# 5. Serve Model
   # Pastikan posisi di root folder project
   mlflow models serve -m "modelling/mlruns/<ID>/<RUN_ID>/artifacts/model" -p 5002 --env-manager=local

# 6. Middleware Exporter
   cd monitoring
   python prometheus_exporter.py

# 7. Prometheus (Monitoring Dashboard)
   Windows :
   docker run -p 9090:9090 -v "${PWD}/monitoring/prometheus.yml:/etc/prometheus/prometheus.yml" prom/prometheus
   
   Linux/Mac:
   docker run -p 9090:9090 -v $(pwd)/monitoring/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus

# 8. Open localhost:9090/targets and ensure the status is not "DOWN".

# 9. Streamlit
   cd view
   streamlit run app.py

# 10. Open localhost:9090/query to view the metrics generated by the prediction model.
